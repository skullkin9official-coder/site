<!DOCTYPE html>
<html lang="en-US">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>3RROR5TUDIOS</title>
<link rel="icon" type="image/png" href="images/3RROR5TUDIOS.png">

<link rel="stylesheet" href="css/style.css">

<!-- NEW PlayFab SDK -->
<script src="https://download.playfab.com/PlayFabClientApi.js"></script>

<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-4043534942165629"
crossorigin="anonymous"></script>
</head>

<body>
<div class="clean-topbar">
  <div class="tb-left">
    <img src="images/3RROR5TUDIOS.png" class="tb-logo" alt="logo">
    <span class="tb-title">3RROR5TUDIOS</span>
    <a href="Games.html" class="tb-link">Games</a>
    <a href="ERRORVERSE.html" class="tb-link">Errorverse</a>
  </div>

  <div class="tb-right" id="profileButton">
    <img id="profileAvatar" src="images/default_avatar.png" class="tb-pfp">
    <span id="profileName">User</span>
  </div>
</div>

<div class="slider-container">

    <button class="arrow left">‚ùÆ</button>
    <button class="arrow right">‚ùØ</button>

    <div class="slider">

        <div class="slide" style="--bg:url('images/SHbg.png')">
            <div class="content">
                <img src="images/Ship_Happens.png" class="logo">
                <h2 style="font-size: 35px; color: rgb(195, 0, 255);">SHIP HAPPENS LAUNCH</h2>
                <p>Gather friends and dive deep into the sea</p>
                <p2 style="font-size: 10px; color: yellow;">*ETA: 1st march 2026</p2>
                <a href="3rror5tudios.com" class="btn" target="_blank">
                    Dive in
                </a>
            </div>
        </div>

        <div class="slide" style="--bg:url('images/wsxbg.png')">
            <div class="content">
                <img src="images/wsx.png" class="logo">
                <h2 style="font-size: 35px; color: rgb(195, 0, 255);">WingStormX Security Patch</h2>
                <p>This update solves a security issue affecting all games using the Unity engine</p>
                <p2 style="font-size: 10px; color: yellow;">*Requires latest WingStormX & W11 security update</p2>
                <a href="https://www.xbox.com/en-US/games/store/wingstormx/9ndtj4njpxg5" class="btn" target="_blank">
                    Fly In
                </a>
            </div>
        </div>

        <div class="slide" style="--bg:url('images/slide1.png')">
            <div class="content">
                <img src="images/ERRORVERSE.png" class="logo">
                <h2 style="font-size: 35px; color: rgb(195, 0, 255);">ERRORVERSE</h2>
                <p>Free subscription to level up YOUR game!</p>
                <p2 style="font-size: 10px; color: yellow;">*Requires in-game progress</p2>
                <a href="ERRORVERSE.html" class="btn">Step In</a>
            </div>
        </div>

    </div>

    <div class="dots"></div>

</div>

<script src="js/slider.js"></script>

<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-4043534942165629"
crossorigin="anonymous"></script>

<ins class="adsbygoogle"
style="display:block"
data-ad-client="ca-pub-4043534942165629"
data-ad-slot="7595916388"
data-ad-format="auto"
data-full-width-responsive="true"></ins>
<script>(adsbygoogle = window.adsbygoogle || []).push({});</script>


<!-- üî• PLAYFAB PROFILE LOADER (FULLY FIXED) -->
<script>
document.addEventListener("DOMContentLoaded", () => {
    const savedName = localStorage.getItem("profileName");
    const savedAvatar = localStorage.getItem("profileAvatar");

    if (savedName) document.getElementById("profileName").textContent = savedName;
    if (savedAvatar) document.getElementById("profileAvatar").src = savedAvatar;
});

// Allow logout (optional if you need it)
function logout() {
    localStorage.removeItem("profileName");
    localStorage.removeItem("profileAvatar");
    localStorage.removeItem("playfabSessionTicket");
    window.location.href = "login.html";
}

// PlayFab title ID
PlayFabClientSDK.settings.titleId = "1FC26D";

// Load cached session
const sessionTicket = localStorage.getItem("playfabSessionTicket");

if (sessionTicket) {
    PlayFabClientSDK.settings.sessionTicket = sessionTicket;

    PlayFabClientSDK.GetAccountInfo(
        {},
        (response) => {
            console.log("PlayFab success:", response);

            const info = response.data?.accountInfo;

            const displayName = info?.titleInfo?.displayName || "User";
            const avatarUrl = info?.titleInfo?.avatarUrl || "images/default_avatar.png";

            localStorage.setItem("profileName", displayName);
            localStorage.setItem("profileAvatar", avatarUrl);

            document.getElementById("profileName").textContent = displayName;
            document.getElementById("profileAvatar").src = avatarUrl;
        },
        (error) => {
            console.log("PlayFab error:", error);
        }
    );
}

</script>


<style>
body {
    margin: 0;
    padding: 20px;
    font-family: Arial, sans-serif;
    background: linear-gradient(135deg, #40006e, #8100b4);
    color: white;
    display: flex;
    justify-content: center;
}

.clean-topbar {
  position: fixed;
  top: 15px;
  left: 50%;
  transform: translateX(-50%);
  width: 92%;
  height: 60px;
  background: rgba(0,0,0,0.25);
  border-radius: 18px;
  backdrop-filter: blur(12px);
  padding: 0 25px;
  display: flex;
  justify-content: space-between;
  align-items: center;
  z-index: 9999;
}
.tb-left{
  display: flex; align-items: center; gap: 18px;
}
.tb-logo{ height: 36px; }
.tb-title{ font-size: 20px; font-weight: 700; color: white; margin-right: 10px; }
.tb-link{
  color: white; text-decoration: none;
  font-size: 16px; padding: 6px 10px;
  border-radius: 8px; transition: .15s;
}
.tb-link:hover{ background: rgba(255,255,255,0.06); }
.tb-right{ display:flex; align-items:center; gap:10px; }
.tb-pfp{
  width: 34px; height: 34px;
  border-radius: 50%; border: 2px solid #ffdd00;
  object-fit: cover;
}
</style>

</body>
</html>
